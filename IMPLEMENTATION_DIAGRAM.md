# Implementation Architecture Diagram

## ğŸ—ï¸ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    React Native App                          â”‚
â”‚                  (Expo + TypeScript)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Job Details Screen [id].tsx                     â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              State Management                       â”‚    â”‚
â”‚  â”‚  â€¢ flashReportFile, flashReportName                â”‚    â”‚
â”‚  â”‚  â€¢ inspectionDocFile, inspectionDocName            â”‚    â”‚
â”‚  â”‚  â€¢ reportNote, isUploadingInspection               â”‚    â”‚
â”‚  â”‚  â€¢ inspectionDocs, flashReports                    â”‚    â”‚
â”‚  â”‚  â€¢ isConfirmingProceed                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              File Handlers                          â”‚    â”‚
â”‚  â”‚  â€¢ handleFlashReportUpload()                       â”‚    â”‚
â”‚  â”‚  â€¢ handleInspectionDocUpload()                     â”‚    â”‚
â”‚  â”‚  â€¢ handleSubmitInspectionData()                    â”‚    â”‚
â”‚  â”‚  â€¢ handleDeleteInspectionDoc()                     â”‚    â”‚
â”‚  â”‚  â€¢ handleConfirmProceed()                          â”‚    â”‚
â”‚  â”‚  â€¢ openFileOnBrowser()                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              UI Components                          â”‚    â”‚
â”‚  â”‚  â€¢ Download Assignment Instructions                â”‚    â”‚
â”‚  â”‚  â€¢ Upload Inspection Data Form                     â”‚    â”‚
â”‚  â”‚  â€¢ Uploaded Documents Lists                        â”‚    â”‚
â”‚  â”‚  â€¢ Report Notes Display                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Expo Native APIs                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ DocumentPicker   â”‚  â”‚  ImagePicker     â”‚                â”‚
â”‚  â”‚ (File selection) â”‚  â”‚  (Photos)        â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  Location        â”‚  â”‚  Linking         â”‚                â”‚
â”‚  â”‚  (GPS coords)    â”‚  â”‚  (Open files)    â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API Client Layer                          â”‚
â”‚                  (axios + interceptors)                      â”‚
â”‚                                                              â”‚
â”‚  â€¢ Auto-adds Bearer token                                   â”‚
â”‚  â€¢ Handles FormData uploads                                 â”‚
â”‚  â€¢ Error handling & retry                                   â”‚
â”‚  â€¢ Query invalidation via React Query                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Enspek ERP Backend API                          â”‚
â”‚           https://erpbeta.enspek.com/api                     â”‚
â”‚                                                              â”‚
â”‚  POST /upload-inspection-data                               â”‚
â”‚  POST /delete-inspection-doc                                â”‚
â”‚  POST /confirm-proceed                                      â”‚
â”‚  POST /get-single-enquiry                                   â”‚
â”‚  POST /bid-for-enquiry                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Data Flow Diagram

### Upload Inspection Data Flow:

```
User Action
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Tap "Choose Inspection Document" â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. DocumentPicker.getDocumentAsync()â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Store file in state              â”‚
â”‚    - inspectionDocFile              â”‚
â”‚    - inspectionDocName              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Display selected filename        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. Repeat for Flash Report          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. User types report note           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. Tap "SUBMIT INSPECTION"          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. Validate form                    â”‚
â”‚    (at least 1 field required)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 9. Create FormData                  â”‚
â”‚    - Add token                      â”‚
â”‚    - Add enquiry_log_id             â”‚
â”‚    - Add master_log_id              â”‚
â”‚    - Add flash_report (if selected) â”‚
â”‚    - Add insp_doc (if selected)     â”‚
â”‚    - Add note (if filled)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 10. POST to API                     â”‚
â”‚     /upload-inspection-data         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 11. Show loading spinner            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 12. Receive API response            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                  â”‚                  â”‚
Success            Error              Network
    â”‚                  â”‚                  â”‚
    â–¼                  â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Alert    â”‚    â”‚ Alert    â”‚    â”‚ Alert    â”‚
â”‚ Success  â”‚    â”‚ Error    â”‚    â”‚ Network  â”‚
â”‚ Message  â”‚    â”‚ Message  â”‚    â”‚ Error    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 13. Clear form fields               â”‚
â”‚     - flashReportFile = null        â”‚
â”‚     - inspectionDocFile = null      â”‚
â”‚     - reportNote = ""               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 14. Invalidate queries              â”‚
â”‚     queryClient.invalidateQueries() â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 15. Refetch job details             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 16. Update UI with new uploads      â”‚
â”‚     - inspectionDocs list           â”‚
â”‚     - flashReports list             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ UI Component Tree

```
JobDetailsScreen
â”‚
â”œâ”€â”€ Header
â”‚   â”œâ”€â”€ Back Button
â”‚   â”œâ”€â”€ Title: "Job Details"
â”‚   â””â”€â”€ Check-in Button (if accepted)
â”‚
â”œâ”€â”€ ScrollView
â”‚   â”‚
â”‚   â”œâ”€â”€ Job Header
â”‚   â”‚   â”œâ”€â”€ Job Title
â”‚   â”‚   â”œâ”€â”€ Status Badge
â”‚   â”‚   â”œâ”€â”€ RFI Number
â”‚   â”‚   â””â”€â”€ Stats Badges
â”‚   â”‚
â”‚   â”œâ”€â”€ Job Information Section
â”‚   â”œâ”€â”€ Location Section (with Map)
â”‚   â”œâ”€â”€ Scope & Requirements Section
â”‚   â”œâ”€â”€ Inspection Dates Section
â”‚   â”œâ”€â”€ Additional Requirements Section
â”‚   â”‚
â”‚   â”œâ”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚   â”‚   ğŸ“¥ FOR ACCEPTED BIDS ONLY
â”‚   â”œâ”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚   â”‚
â”‚   â”œâ”€â”€ [NEW] Download Assignment Instructions
â”‚   â”‚   â””â”€â”€ Red Download Button / Empty State
â”‚   â”‚
â”‚   â”œâ”€â”€ [NEW] Input Documents Section
â”‚   â”‚   â””â”€â”€ List of client-provided documents
â”‚   â”‚
â”‚   â”œâ”€â”€ Video Conferencing Section
â”‚   â”‚
â”‚   â”œâ”€â”€ Check-ins Section
â”‚   â”‚
â”‚   â”œâ”€â”€ [NEW] Upload Inspection Data Section
â”‚   â”‚   â”œâ”€â”€ Inspection Document Picker
â”‚   â”‚   â”‚   â”œâ”€â”€ Selected file display (if any)
â”‚   â”‚   â”‚   â””â”€â”€ Choose Document Button
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Flash Report Picker
â”‚   â”‚   â”‚   â”œâ”€â”€ Selected file display (if any)
â”‚   â”‚   â”‚   â””â”€â”€ Choose Report Button
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Report Note Input
â”‚   â”‚   â”‚   â””â”€â”€ Multiline TextInput
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ Submit/Update Button
â”‚   â”‚
â”‚   â”œâ”€â”€ [NEW] Uploaded Inspection Documents
â”‚   â”‚   â””â”€â”€ List of uploaded docs with download buttons
â”‚   â”‚
â”‚   â”œâ”€â”€ [NEW] Uploaded Inspection Reports
â”‚   â”‚   â””â”€â”€ List of uploaded reports with download buttons
â”‚   â”‚
â”‚   â”œâ”€â”€ [NEW] Inspection Report Notes
â”‚   â”‚   â””â”€â”€ Read-only note display
â”‚   â”‚
â”‚   â””â”€â”€ Bidding Section (if no bid yet)
â”‚
â”œâ”€â”€ Footer Status Message (if has bid)
â”‚   â”œâ”€â”€ Success Icon
â”‚   â””â”€â”€ Status Text
â”‚
â”œâ”€â”€ Sticky Bid Button (if no bid)
â”‚
â”œâ”€â”€ Currency Modal
â”œâ”€â”€ Check-in Modal
â””â”€â”€ Calendar Modal
```

---

## ğŸ”„ State Machine Diagram

### Inspection Upload State Flow:

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Initial   â”‚
                    â”‚   State     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    Bid Accepted
                           â”‚
                           â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  Assignment     â”‚
                  â”‚  Instructions   â”‚
                  â”‚  Available?     â”‚
                  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                       â”‚       â”‚
                   Yes â”‚       â”‚ No
                       â”‚       â”‚
                       â–¼       â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ Show Upload  â”‚  â”‚ Show Notice  â”‚
          â”‚   Section    â”‚  â”‚   Message    â”‚
          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
          â”‚             â”‚
    Select Files    Add Note
          â”‚             â”‚
          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
          At least 1 field?
                 â”‚
         Yes â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€ No
          â”‚               â”‚
          â–¼               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Enable  â”‚    â”‚ Disable  â”‚
    â”‚  Submit  â”‚    â”‚  Submit  â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    User taps
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Validate â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
Valid        Invalid
    â”‚         â”‚
    â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Upload â”‚  â”‚ Alert  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
  â”Œâ”€â”€â”´â”€â”€â”
  â”‚     â”‚
Success Error
  â”‚     â”‚
  â–¼     â–¼
â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”
â”‚ âœ“ â”‚ â”‚ âœ— â”‚
â””â”€â”¬â”€â”˜ â””â”€â”¬â”€â”˜
  â”‚     â”‚
  â”‚     â””â”€â”€â”€ Show Error Alert
  â”‚
  â””â”€â”€â”€ Clear Form
       â”‚
       â–¼
    Refresh Data
       â”‚
       â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Updated  â”‚
  â”‚   List   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ File Structure

```
enspekexpo/
â”‚
â”œâ”€â”€ app/
â”‚   â””â”€â”€ (stack)/
â”‚       â””â”€â”€ job/
â”‚           â””â”€â”€ [id].tsx â­ (MAIN FILE - Modified)
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ client.ts (Used for API calls)
â”‚   â”‚   â””â”€â”€ hooks/
â”‚   â”‚       â””â”€â”€ useEnquiry.ts (Check-in hook)
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ HapticPressable.tsx (Used)
â”‚   â”‚
â”‚   â”œâ”€â”€ contexts/
â”‚   â”‚   â””â”€â”€ AuthContext.tsx (Used for auth token)
â”‚   â”‚
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ haptics.ts (Used for haptic feedback)
â”‚
â”œâ”€â”€ IMPLEMENTATION_SUMMARY.md â­ (New)
â”œâ”€â”€ FEATURE_GUIDE.md â­ (New)
â”œâ”€â”€ API_INTEGRATION_DOCS.md â­ (New)
â”œâ”€â”€ QUICK_REFERENCE.md â­ (New)
â”œâ”€â”€ IMPLEMENTATION_DIAGRAM.md â­ (New - This file)
â”‚
â””â”€â”€ package.json (No changes needed - deps already installed)
```

---

## ğŸ”Œ API Integration Map

```
React Native App                    Backend API
                                    
handleSubmitInspectionData()   â”€â”€â–º  POST /upload-inspection-data
    â”‚                                      â”‚
    â”œâ”€â”€ FormData                           â”‚
    â”‚   â”œâ”€â”€ token                          â”‚
    â”‚   â”œâ”€â”€ enquiry_log_id                 â”‚
    â”‚   â”œâ”€â”€ master_log_id                  â”‚
    â”‚   â”œâ”€â”€ flash_report (File)            â”‚
    â”‚   â”œâ”€â”€ insp_doc (File)                â”‚
    â”‚   â””â”€â”€ note                           â”‚
    â”‚                                      â–¼
    â”‚                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                               â”‚  Process     â”‚
    â”‚                               â”‚  Upload      â”‚
    â”‚                               â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                                      â”‚
    â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                               Response
    â”œâ”€â”€ Success: { success: true }
    â””â”€â”€ Error: { success: false, message }
    
handleDeleteInspectionDoc(id)  â”€â”€â–º  POST /delete-inspection-doc
    â”‚                                      â”‚
    â”œâ”€â”€ { token, id }                      â”‚
    â”‚                                      â–¼
    â”‚                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                               â”‚  Delete      â”‚
    â”‚                               â”‚  Document    â”‚
    â”‚                               â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                                      â”‚
    â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                               Response
    â””â”€â”€ Success/Error
    
handleConfirmProceed()         â”€â”€â–º  POST /confirm-proceed
    â”‚                                      â”‚
    â”œâ”€â”€ { token, id: bidId }               â”‚
    â”‚                                      â–¼
    â”‚                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                               â”‚  Update      â”‚
    â”‚                               â”‚  Bid Status  â”‚
    â”‚                               â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                                      â”‚
    â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                               Response
    â””â”€â”€ Success/Error
    
openFileOnBrowser(url)         â”€â”€â–º  GET {file_url}
    â”‚                                      â”‚
    â”œâ”€â”€ Construct full URL                 â”‚
    â”œâ”€â”€ Linking.openURL()                  â”‚
    â”‚                                      â–¼
    â”‚                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                               â”‚  Download    â”‚
    â”‚                               â”‚  File        â”‚
    â”‚                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â””â”€â”€ Opens in device browser
```

---

## ğŸ­ Component Interaction Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           JobDetailsScreen Component             â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         React Query (useQuery)         â”‚    â”‚
â”‚  â”‚  Fetches: job details, bids, docs      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                  â”‚                              â”‚
â”‚                  â–¼                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         useEffect Hook                 â”‚    â”‚
â”‚  â”‚  Populates: inspectionDocs,            â”‚    â”‚
â”‚  â”‚             flashReports               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                  â”‚                              â”‚
â”‚                  â–¼                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         UI Rendering                   â”‚    â”‚
â”‚  â”‚                                        â”‚    â”‚
â”‚  â”‚  Conditional rendering based on:      â”‚    â”‚
â”‚  â”‚  - hasUserBid                         â”‚    â”‚
â”‚  â”‚  - userBidStatus === "accepted"        â”‚    â”‚
â”‚  â”‚  - assignment instructions exist       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                  â”‚
â”‚  User Interactions:                             â”‚
â”‚  â”œâ”€â–º File Picker Button                         â”‚
â”‚  â”‚   â””â”€â–º handleInspectionDocUpload()            â”‚
â”‚  â”‚       â””â”€â–º DocumentPicker.getDocumentAsync()  â”‚
â”‚  â”‚                                              â”‚
â”‚  â”œâ”€â–º Flash Report Button                        â”‚
â”‚  â”‚   â””â”€â–º handleFlashReportUpload()             â”‚
â”‚  â”‚       â””â”€â–º DocumentPicker.getDocumentAsync()  â”‚
â”‚  â”‚                                              â”‚
â”‚  â”œâ”€â–º Submit Button                              â”‚
â”‚  â”‚   â””â”€â–º handleSubmitInspectionData()          â”‚
â”‚  â”‚       â”œâ”€â–º Validate form                     â”‚
â”‚  â”‚       â”œâ”€â–º Create FormData                   â”‚
â”‚  â”‚       â”œâ”€â–º POST to API                       â”‚
â”‚  â”‚       â”œâ”€â–º Show loading                      â”‚
â”‚  â”‚       â”œâ”€â–º Handle response                   â”‚
â”‚  â”‚       â”œâ”€â–º Clear form                        â”‚
â”‚  â”‚       â””â”€â–º Invalidate queries                â”‚
â”‚  â”‚                                              â”‚
â”‚  â”œâ”€â–º Download Button                            â”‚
â”‚  â”‚   â””â”€â–º openFileOnBrowser(url)                â”‚
â”‚  â”‚       â”œâ”€â–º Construct full URL                â”‚
â”‚  â”‚       â””â”€â–º Linking.openURL()                 â”‚
â”‚  â”‚                                              â”‚
â”‚  â””â”€â–º Delete Button (if implemented)             â”‚
â”‚      â””â”€â–º handleDeleteInspectionDoc(id)         â”‚
â”‚          â”œâ”€â–º Show confirmation                 â”‚
â”‚          â”œâ”€â–º POST to API                       â”‚
â”‚          â””â”€â–º Invalidate queries                â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ Package Dependencies Graph

```
[id].tsx
    â”‚
    â”œâ”€â”€ React Native Core
    â”‚   â”œâ”€â”€ View, Text, ScrollView
    â”‚   â”œâ”€â”€ TextInput, Pressable
    â”‚   â”œâ”€â”€ Alert, ActivityIndicator
    â”‚   â”œâ”€â”€ Modal, Linking, Image
    â”‚   â””â”€â”€ Platform
    â”‚
    â”œâ”€â”€ React Navigation (Expo Router)
    â”‚   â”œâ”€â”€ useLocalSearchParams
    â”‚   â””â”€â”€ useRouter
    â”‚
    â”œâ”€â”€ Expo APIs
    â”‚   â”œâ”€â”€ expo-document-picker â­
    â”‚   â”œâ”€â”€ expo-image-picker
    â”‚   â”œâ”€â”€ expo-location
    â”‚   â””â”€â”€ expo-vector-icons
    â”‚
    â”œâ”€â”€ State Management
    â”‚   â”œâ”€â”€ @tanstack/react-query
    â”‚   â”‚   â”œâ”€â”€ useQuery
    â”‚   â”‚   â”œâ”€â”€ useMutation
    â”‚   â”‚   â””â”€â”€ useQueryClient
    â”‚   â”‚
    â”‚   â””â”€â”€ React Hooks
    â”‚       â”œâ”€â”€ useState
    â”‚       â”œâ”€â”€ useEffect
    â”‚       â”œâ”€â”€ useCallback
    â”‚       â”œâ”€â”€ useMemo
    â”‚       â””â”€â”€ useRef
    â”‚
    â”œâ”€â”€ API Client
    â”‚   â””â”€â”€ axios
    â”‚       â””â”€â”€ apiClient (custom)
    â”‚
    â””â”€â”€ Custom Hooks/Components
        â”œâ”€â”€ useEnquiryCheckIn
        â”œâ”€â”€ useAuth
        â”œâ”€â”€ HapticPressable
        â””â”€â”€ haptics utils
```

---

## ğŸ” Security Flow

```
User Action
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Component       â”‚
â”‚ Function Call   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Get Auth Token  â”‚
â”‚ from Context    â”‚
â”‚ user?.auth_tokenâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Create Request  â”‚
â”‚ (API call)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ apiClient       â”‚
â”‚ Interceptor     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Auto-add Bearer â”‚
â”‚ Token to Header â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Send Request to â”‚
â”‚ Backend API     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
   200       401
    â”‚         â”‚
    â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Success â”‚ â”‚ Clear  â”‚
â”‚Responseâ”‚ â”‚ Token  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ Logout â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¬ Sequence Diagram: Complete Upload Flow

```
User         Component         DocumentPicker    FormData     API         Server
 â”‚               â”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚  Tap Choose   â”‚                    â”‚             â”‚          â”‚            â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚  Open Picker       â”‚             â”‚          â”‚            â”‚
 â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚             â”‚          â”‚            â”‚
 â”‚               â”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚  Select File  â”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚             â”‚          â”‚            â”‚
 â”‚               â”‚  Return File       â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚          â”‚            â”‚
 â”‚               â”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚  Store in State    â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚  (inspectionDocFile)             â”‚          â”‚            â”‚
 â”‚               â”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚  Display Filename  â”‚             â”‚          â”‚            â”‚
 â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚  Repeat for   â”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚  Flash Report â”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚  Type Notes   â”‚                    â”‚             â”‚          â”‚            â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚  Update reportNote â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚  Tap Submit   â”‚                    â”‚             â”‚          â”‚            â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚  Validate Form     â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚  Create FormData   â”‚             â”‚          â”‚            â”‚
 â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚          â”‚            â”‚
 â”‚               â”‚                    â”‚  Append     â”‚          â”‚            â”‚
 â”‚               â”‚                    â”‚  Files +    â”‚          â”‚            â”‚
 â”‚               â”‚                    â”‚  Data       â”‚          â”‚            â”‚
 â”‚               â”‚                    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚            â”‚
 â”‚               â”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚  Show Loading      â”‚             â”‚          â”‚            â”‚
 â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚  POST /upload-inspection-data    â”‚          â”‚            â”‚
 â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚            â”‚
 â”‚               â”‚                    â”‚             â”‚  Request â”‚            â”‚
 â”‚               â”‚                    â”‚             â”‚  with    â”‚            â”‚
 â”‚               â”‚                    â”‚             â”‚  Token   â”‚            â”‚
 â”‚               â”‚                    â”‚             â”‚          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
 â”‚               â”‚                    â”‚             â”‚          â”‚  Process   â”‚
 â”‚               â”‚                    â”‚             â”‚          â”‚  Save Filesâ”‚
 â”‚               â”‚                    â”‚             â”‚          â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚               â”‚                    â”‚             â”‚ Response â”‚            â”‚
 â”‚               â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”‚
 â”‚               â”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚  Hide Loading      â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚  Show Success      â”‚             â”‚          â”‚            â”‚
 â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚  Clear Form        â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚  Invalidate Query  â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚  Refetch Data      â”‚             â”‚          â”‚            â”‚
 â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚            â”‚
 â”‚               â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”‚
 â”‚               â”‚                    â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚  Update UI         â”‚             â”‚          â”‚            â”‚
 â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  (show new uploads)â”‚             â”‚          â”‚            â”‚
 â”‚               â”‚                    â”‚             â”‚          â”‚            â”‚
```

---

**Last Updated:** 2025  
**Diagram Version:** 1.0  
**Status:** Complete âœ…
